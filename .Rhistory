re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
## 随机取样 ~~~~~
data0 <- read.csv("lgdat2013.csv")
head(data0)
data0 <- subset(data0, sp!='00枯立木' & is.na(data0$bra))
##############
if(any(data0$x==0)){data0$x[data0$x==0] <- 0.01}
if(any(data0$y==0)){data0$y[data0$y==0] <- 0.01}
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((0:15)/15),
xlab='', ylab='')
x11()
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
side0=25
#
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((0:15)/15),
xlab='', ylab='')
#################
x11()
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((15:0)/15),
xlab='', ylab='')
#################
x11()
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((19:5)/15),
xlab='', ylab='')
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((15:5)/15),
xlab='', ylab='')
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((10:0)/15),
xlab='', ylab='')
x11()
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=50
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=25
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=100
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=50
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=25
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
#
side0=12.5
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=10
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
side0=5
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11()
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
side0=10
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11()
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11()
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
x11(5,3)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,3)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
x11(5,5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=12.5
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
side0=25
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=50
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=100
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=5
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
side0=10
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
side0=10
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
#
side0=12.5
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=25
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
side0=20
#
data2 <- data0
sp2 <- data2$sp
sx2 <- ceiling(data2$x/side0)
sy2 <- ceiling(data2$y/side0)
ag02 <- aggregate(sp2~ sx2 + sy2,FUN=function(xx){length(unique(xx))})
re02 <- reshape(ag02,v.names='sp2',idvar='sx2',timevar='sy2',direction='wide')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((25:0)/25),
xlab='', ylab='')
#
x11(5,4.5)
image(x=1:dim(re02)[1], y=1:(dim(re02)[2]-1),
z=as.matrix(re02[, -1]), col = grey((0:25)/25),
xlab='', ylab='')
#
x11()
#
side0=20
#
data1 <- data0
data1 <- data1[data1$dbh>20,]
sp1 <- data1$sp
sx1 <- ceiling(data1$x/side0)
sy1 <- ceiling(data1$y/side0)
ag01 <- aggregate(sp1 ~ sx1 + sy1,FUN=function(xx){length(xx)})
re01 <- reshape(ag01,v.names='sp1',idvar='sx1',timevar='sy1',direction='wide')
image(x=1:dim(re01)[1], y=1:(dim(re01)[2]-1),
z=as.matrix(re01[, -1]), col = grey((10:0)/15),
xlab='', ylab='')
re01
